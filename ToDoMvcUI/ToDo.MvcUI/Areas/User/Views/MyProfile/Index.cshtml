@using ToDo.MvcUI.Areas.Admin.Models
@model UserItem

@{
    Layout = "~/Areas/User/Views/Shared/_userLayout.cshtml";
}

<style>
    .jobparticipantimg {
        height: 250px;
        width: 250px;
        object-fit: cover;
        border-radius: 50%;
        border: 1px solid lightgray;
        margin: 1px 0px 0px 1px;
    }
</style>

@*@section customStyles{
    <link href="~/lib/sweetalert2/sweetalert2.min.css" rel="stylesheet" />

}
@section customScripts{
    <script src="~/lib/sweetalert2/sweetalert2.all.min.js"></script>


    <script>
        $("#btnUpdate").click(function () {

            var file = $("#fuUserPhotoEdit").get(0).files[0];
            var name = $("#txtUserNameEdit").val();
            var surname = $("#txtUserSurnameEdit").val();
            var email = $("#txtEmailEdit").val();
            var duty = $("#txtDutyEdit").val();
            var nickname = $("#txtNicknameEdit").val();
            var password = $("#txtPasswordEdit").val();
            var departmentId = $("#departmentEditSelect").val();
            var id = $("#hfUserId").val();
            var fd = new FormData();
            fd.append("id", id);
            fd.append("userPhoto", file);
            fd.append("name", name);
            fd.append("surname", surname);
            fd.append("email", email);
            fd.append("duty", duty);
            fd.append("nickname", nickname);
            fd.append("password", password);
            fd.append("departmentId", departmentId);


            $.ajax({
                url: "/User/MyProfile/Update",
                method: "post",
                datatype: "json",
                contentType: false,
                processData: false,
                data: fd,
                success: function (response) {
                    //if (response.isSuccess) {
                    //    Swal.fire('İşlem Başarılı', response.message, 'success')
                    //    $("#btnClear").trigger("click");
                    //}
                    if (response.isSuccess) {
                        Swal.fire({
                            title: 'İşlem Başarılı',
                            text: response.message,
                            icon: 'success',
                            showCancelButton: false,
                            confirmButtonColor: '#3085d6',
                            confirmButtonText: 'Tamam'
                        }).then((result) => {
                            if (result.isConfirmed) {

                            }
                        });
                    }

                    else {
                        Swal.fire('İşlem Başarısız', response.message, 'error')
                    }
                }
            })
        });

    </script>
}*@

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-4 text-center">
            <img src="@Model.PicturePath" class="img-fluid rounded-circle mb-3" alt="User Picture">
            <h4>@Model.Name @Model.Surname</h4>
            <p class="text-muted">@Model.DepartmentName</p>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="row mb-3">
                <div class="col-md-6">
                    <p><strong>Email:</strong> @Model.Email</p>
                    <p><strong>Görevi:</strong> @Model.Duty</p>
                </div>
                <div class="col-md-6">
                    <p><strong>Kullanıcı Adı:</strong> @Model.Nickname</p>
                    <p><strong>Şifre:</strong> @Model.Password</p>
                </div>
            </div>
        </div>
    </div>
</div>



<!--<div class="modal fade" data-backdrop="static" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Personel Düzenleme Formu</h1>-->
                @*<button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">&times;</button>*@
            <!--</div>
            <div class="modal-body">
                <form>-->
                    @*Aşağıdaki hidden input içerisinde güncellenmek istenen kategorinin id si tutuluyor. btnEdit e tıklandığında hangi kategorinin güncelleneceği bu inputtan okunabilir.*@
                    <!--<input type="hidden" id="hfUserId" />

                    <div class="card-body">

                        <div class="form-group justify-content-center align-items-center mb-3">
                            <img class="jobparticipantimg" id="imgUserPhotoEdit" />
                        </div>

                        <div class="form-group">
                            <label>Departman</label>
                            <select id="departmentEditSelect" class="form-control">
                                <option selected value="-1">Departman Seciniz</option>
                      
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEmail1">Adı</label>
                            <input type="text" class="form-control" id="txtUserNameEdit" placeholder="Ad Giriniz">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEmail1">Soyadı</label>
                            <input type="text" class="form-control" id="txtUserSurnameEdit" placeholder="Soyad Giriniz">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEmail1">Email</label>
                            <input type="text" class="form-control" id="txtEmailEdit" placeholder="Email Giriniz">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEmail1">Görevi</label>
                            <input type="text" class="form-control" id="txtDutyEdit" placeholder="Görevi Giriniz">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputName">Kullanıcı Adı</label>
                            <input type="text" class="form-control" id="txtNicknameEdit" placeholder="Kullanıcı Adı Giriniz">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputName">Şifre</label>
                            <input type="text" class="form-control" id="txtPasswordEdit" placeholder="Şifre Giriniz">
                        </div>

                        <div class="form-group">
                            <label for="exampleInputFile">Resim</label>
                            <div class="input-group">
                                <div class="custom-file">
                                    <input type="file" class="custom-file-input" id="fuUserPhotoEdit">
                                    <label class="custom-file-label" for="exampleInputFile">Dosya Seçiniz</label>
                                </div>
                            </div>
                        </div>


                    </div>-->
                    <!-- /.card-body -->

                    <!--<div class="card-footer">
                        <button id="btnUpdate" type="button" class="btn btn-primary">Kaydet</button>
                    </div>


                    <button id="btnClearEdit" type="reset" style="display:none;"></button>

                </form>
            </div>
        </div>
    </div>
</div>-->
